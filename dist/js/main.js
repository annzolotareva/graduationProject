(()=>{"use strict";(()=>{const e=document.querySelectorAll(".callback-btn"),t=document.querySelector(".button-services"),o=document.querySelector(".modal-callback"),n=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-close"),c=e=>{e.addEventListener("click",(e=>{e.preventDefault(),o.style.display="block",n.style.display="block"}))},r=e=>{e.addEventListener("click",(e=>{e.preventDefault(),o.style.display="none",n.style.display="none"}))};e.forEach((e=>{c(e)})),c(t),r(n),r(l)})(),(()=>{const e=document.querySelector('[name="form-callback"]'),t=document.createElement("div"),o=e.querySelectorAll("input"),n=()=>{const n=new FormData(e),l={};var c;t.textContent="Идёт отправка...",e.append(t),n.forEach(((e,t)=>{l[t]=e,""==e&&delete l.fio})),(e=>{let t=!0;return e.forEach((e=>{"tel"==e.name&&/[^\+\d]/g.test(e.value.trim())&&(t=!1),"fio"==e.name&&/[^а-я]/gi.test(e.value.trim())&&(t=!1)})),t})(document.querySelector('[name="form-callback"]').querySelectorAll("input"))?(c=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json))).then((()=>{t.textContent="Отправлено!",setTimeout((()=>{t.textContent=""}),5e3),o.forEach((e=>{"tel"!=e.name&&"fio"!=e.name||(e.value="")}))})).catch((()=>{t.textContent="Ошибка"})):(alert("Данные не валидны!"),t.textContent="")};try{if(!e)throw new Error("Верните форму на место!");o.forEach((e=>{"tel"==e.name&&e.setAttribute("required",!0)})),e.addEventListener("submit",(e=>{e.preventDefault(),n()}))}catch(e){console.log(e.message)}})()})();